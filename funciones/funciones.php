<?php

function correccionTitulo(string $titulo) : string
{

    $miArray = explode("-", $titulo);

    for( $i= 0 ; $i < count($miArray) ; $i++){
        $miArray[$i] = ucfirst($miArray[$i]);
    }

    return implode(" ", $miArray);

}

function recortar_descripcion(string $descripcion, int $cantidad = 20) : string
{
    $miArray = explode(" ", $descripcion);      //string to array
    $arrayRecortado = [];

    for( $i = 0; $i < $cantidad  ; $i++ ){
        if( $i < $cantidad ){
            array_push($arrayRecortado, $miArray[$i]); //array_push($arrayOriginal, $dato)
        }
    }

    return implode(" ",$arrayRecortado)."...";    //array to string
}

function catalogo_completo(){
    $productos = [
        [
            "id" => 1,
            "personaje" => "iron-man",
            "serie" => "Iron Man",
            "volumen" => 6,
            "numero" => 1,
            "titulo" => "El Regreso de Tony Stark",
            "publicacion" => "Septiembre 2021",
            "guion" => "Christopher Cantwell",
            "arte" => "Cafu",
            "bajada" => "Después de su aparente muerte, Tony Stark regresa al Universo Marvel con una nueva armadura y una nueva misión. ¿Está preparado para enfrentar a sus enemigos y proteger a los inocentes?",
            "portada" => "iron-man.jpg",
            "precio" => 2000
        ],
        [
            "id" => 2,
            "personaje" => "iron-man",
            "serie" => "Iron Man",
            "volumen" => 4,
            "numero" => 1,
            "titulo" => "La Guerra de los Robots",
            "publicacion" => "Octubre 2014",
            "guion" => "Kieron Gillen",
            "arte" => "Greg Land",
            "bajada" => "Tony Stark se enfrenta a una amenaza inesperada cuando un ejército de robots ataca su ciudad natal. ¿Podrá Iron Man detenerlos antes de que causen más destrucción?",
            "portada" => "iron-man1.jpg",
            "precio" => 1800
        ],
        [
            "id" => 3,
            "personaje" => "iron-man",
            "serie" => "Iron Man",
            "volumen" => 3,
            "numero" => 10,
            "titulo" => "El Hombre de Titanio",
            "publicacion" => "Agosto 2013",
            "guion" => "Kieron Gillen",
            "arte" => "Dale Eaglesham",
            "bajada" => "Tony Stark se une a los Guardianes de la Galaxia en una misión para salvar al universo de una amenaza cósmica. ¿Será capaz de enfrentar a sus enemigos y salvar el día?",
            "portada" => "iron-man2.jpg",
            "precio" => 1700
        ],
        [
            "id" => 4,
            "personaje" => "iron-man",
            "serie" => "Iron Man",
            "volumen" => 2,
            "numero" => 1,
            "titulo" => "La Ascensión de Tony Stark",
            "publicacion" => "Noviembre 2012",
            "guion" => "Matt Fraction",
            "arte" => "Salvador Larroca",
            "bajada" => "Tony Stark se enfrenta a un nuevo enemigo que amenaza con destruir todo lo que ha construido. ¿Podrá Iron Man salvar el día y salir victorioso?",
            "portada" => "iron-man3.jpg",
            "precio" => 1900
        ],
        [
            "id" => 5,
            "personaje" => "iron-man",
            "serie" => "Iron Man",
            "volumen" => 1,
            "numero" => 128,
            "titulo" => "El Fantasma en la Armadura",
            "publicacion" => "Marzo 1980",
            "guion" => "David Michelinie",
            "arte" => "John Romita Jr.",
            "bajada" => "Iron Man se enfrenta a un nuevo enemigo llamado El Fantasma en la Armadura, quien ha robado una de sus armaduras y la está utilizando para cometer crímenes. ¿Podrá Tony Stark recuperar su tecnología y detener al villano?",
            "portada" => "iron-man4.jpg",
            "precio" => 900
        ],
        [
            "id" => 6,
            "personaje" => "batman",
            "serie" => "Batman",
            "volumen" => 1,
            "numero" => 404,
            "titulo" => "Año Uno, Parte 1",
            "publicacion" => "Febrero 1987",
            "guion" => "Frank Miller",
            "arte" => "David Mazzucchelli",
            "bajada" => "Este es el comienzo de la historia de origen de Batman, donde se narra cómo Bruce Wayne regresa a Gotham City después de años de ausencia y se convierte en el defensor de la ciudad. Con un nuevo enfoque realista, esta historia es un clásico del personaje.",
            "portada" => "batman.jpg",
            "precio" => 1500
        ],
        [
            "id" => 7,
            "personaje" => "batman",
            "serie" => "Batman",
            "volumen" => 1,
            "numero" => 251,
            "titulo" => "La Venganza del Hombre-Calendario",
            "publicacion" => "Septiembre 1973",
            "guion" => "Denny O'Neil",
            "arte" => "Neal Adams",
            "bajada" => "En este cómic clásico de la Edad de Bronce, Batman se enfrenta a uno de sus villanos más singulares: el Hombre-Calendario, quien planea sus crímenes según las fechas del calendario. ¿Podrá el Caballero de la Noche detenerlo antes de que cometa su próximo delito?",
            "portada" => "batman2.jpg",
            "precio" => 2000
        ],
        [
            "id" => 8,
            "personaje" => "batman",
            "serie" => "Batman",
            "volumen" => 1,
            "numero" => 655,
            "titulo" => "El Hombre que Ríe, Parte 1",
            "publicacion" => "Marzo 2006",
            "guion" => "Ed Brubaker",
            "arte" => "Doug Mahnke",
            "bajada" => "Este cómic es una reinterpretación de la primera aparición del Joker en Batman #1 de 1940, donde se narra cómo el Príncipe Payaso del Crimen llega a Gotham City y comienza a sembrar el caos en la ciudad. Una historia imperdible para los fans del Joker.",
            "portada" => "batman3.jpg",
            "precio" => 1800
        ],
        [
            "id" => 9,
            "personaje" => "batman",
            "serie" => "Hawkeye",
            "volumen" => 4,
            "numero" => 4,
            "titulo" => "La Cinta: Parte 1 de 2",
            "publicacion" => "Noviembre, 2012",
            "guion" => "Matt Fraction",
            "arte" => "Javier Pulido",
            "bajada" => " ¡No vas a creer lo que hay en La Cinta! S.H.I.E.L.D. recluta a Clint para interceptar pruebas incriminatorias, antes de que se convierta en el hombre más buscado del mundo.",
            "portada" => "batman4.jpg",
            "precio" => 1800
        ],
        [
            "id" => 10,
            "personaje" => "batman",
            "serie" => "Batman",
            "volumen" => 3,
            "numero" => 100,
            "titulo" => "El Regreso del Murciélago",
            "publicacion" => "Octubre 2020",
            "guion" => "James Tynion IV",
            "arte" => "Jorge Jiménez",
            "bajada" => "¡La batalla final por el alma de Gotham ha llegado! ¡El Joker ha vuelto, pero para qué propósito? Batman tendrá que ir al límite para proteger a la ciudad que ama, todo mientras sabe que eventualmente tendrá que enfrentarse a un viejo amigo.",
            "portada" => "batman5.jpg",
            "precio" => 3000
        ],
        [
            "id" => 11,
            "personaje" => "wonder-woman",
            "serie" => "Wonder Woman",
            "volumen" => 5,
            "numero" => 750,
            "titulo" => "La Historia Secreta de Wonder Woman",
            "publicacion" => "Enero 2020",
            "guion" => "Steve Orlando",
            "arte" => "Jesus Merino",
            "bajada" => "Celebra el 750º número de Wonder Woman con una historia especial que destapa los secretos del pasado y futuro de la Princesa Amazona. Descubre cómo Diana de Themyscira ha inspirado a las mujeres a través de las épocas, y cómo su legado sigue vivo hoy en día.",
            "portada" => "Wonder-Woman1.jpg",
            "precio" => 2800
        ],
        [
            "id" => 12,
            "personaje" => "wonder-woman",
            "serie" => "Wonder Woman",
            "volumen" => 5,
            "numero" => 1,
            "titulo" => "Año Uno Parte 1: La Llegada",
            "publicacion" => "Enero 2017",
            "guion" => "Greg Rucka",
            "arte" => "Nicola Scott",
            "bajada" => "El origen de Wonder Woman es contado de nuevo en esta nueva serie. Diana, la princesa de las Amazonas, se ve obligada a abandonar su hogar para luchar por la justicia y la verdad en el mundo de los hombres. Pero el camino hacia la heroína no es fácil, y pronto descubre que no todo es lo que parece.",
            "portada" => "Wonder-Woman2.jpg",
            "precio" => 1500
        ],
        [
            "id" => 13,
            "personaje" => "wonder-woman",
            "serie" => "Wonder Woman",
            "volumen" => 5,
            "numero" => 14,
            "titulo" => "La Verdadera Amazona Parte 1",
            "publicacion" => "Noviembre 2017",
            "guion" => "Shea Fontana",
            "arte" => "David Messina",
            "bajada" => "Diana se embarca en una misión para descubrir la verdad detrás de su origen y su conexión con las Amazonas. Pero sus esfuerzos son obstaculizados por una misteriosa figura que parece tener sus propios planes para la Princesa Amazona. ¿Podrá Diana descubrir la verdad antes de que sea demasiado tarde?",
            "portada" => "Wonder-Woman3.jpg",
            "precio" => 1800
        ],
        [
            "id" => 14,
            "personaje" => "wonder-woman",
            "serie" => "Wonder Woman",
            "volumen" => 5,
            "numero" => 22,
            "titulo" => "La Hija de Hades Parte 1",
            "publicacion" => "Julio 2018",
            "guion" => "James Robinson",
            "arte" => "Carlo Pagulayan",
            "bajada" => "Cuando una misteriosa figura del pasado de Wonder Woman aparece en la actualidad, Diana se encuentra cara a cara con su hermano perdido hace mucho tiempo: un semidiós de la mitología griega llamado Heracles. Pero cuando la muerte y la destrucción empiezan a seguir sus pasos, Diana se da cuenta de que Heracles puede no ser lo que parece. ¿Será capaz de confiar en él para detener la amenaza que se cierne sobre el mundo?",
            "portada" => "Wonder-Woman4.jpg",
            "precio" => 2000
        ]
    ];  //1 -> 4

    return $productos;
}

function catalogo_x_personaje($comics, $personaje){
    $personajes = [];
    //print_r($comics);
    //echo "<>";
    foreach ($comics as $comic) {
        
        // print_r($comic["personaje"]);
        // echo "  Personaje Recibido:".$personaje;
        if( $comic["personaje"] == $personaje ){
            array_push($personajes, $comic);
            //echo "  Personaje Recibido:".$personaje;
        }
        //echo "<br>";
    }
    //echo "</pre>";
    //print_r($personajes);
    return $personajes;
}